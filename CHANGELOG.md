# 更新日誌

## [v1.2.0] - 2025-10-25

### ✨ 新功能

- **分頁式圖表區**
  - 整合Bar Chart和 PDM 網圖到同一區域
  - 使用 Tab 分頁快速切換視圖
  - 預設顯示Bar Chart，點擊分頁即可切換
  - 優雅的淡入動畫效果
  - 節省螢幕空間，提升使用體驗

- **PDM 節點式網圖視覺化**
  - 新增 `PDMDiagram.vue` 組件，提供 Precedence Diagramming Method 節點式網圖
  - 使用 D3.js 實現互動式網絡圖表
  - **兩種顯示模式**：
    - **簡潔模式**（預設）：類似傳統手繪網圖
      - 小型節點（80×50px），只顯示作業名稱
      - 統一綠色配色，清晰易讀
      - Lag 標籤明顯顯示（如：Lag=3）
    - **詳細模式**：完整學術資訊
      - 標準九宮格佈局（160×100px）
      - 顯示完整 CPM 計算結果（ES/EF/LS/LF/工期/TF）
      - 要徑以紅色高亮顯示
  - 箭線標示依賴類型（FS/SS/FF/SF）和 Lag 值
  
- **互動功能**
  - 支援滑鼠拖曳移動視圖
  - 支援滾輪縮放功能
  - 點擊節點顯示詳細資訊
  - **一鍵切換顯示模式**（簡潔/詳細）
  - 自動縮放適配視窗
  - 重置視圖功能

- **智能路徑演算法**（完全滿足三大要求）
  - ✅ **線不穿過節點**：精確碰撞檢測，自動繞行
  - ✅ **線減少彎曲**：四階層策略，優先簡潔路徑
    - 策略1：直線（零彎曲）
    - 策略2：三段式（兩個彎）
    - 策略3：偏移三段式（兩個彎+小偏移）
    - 策略4：繞行路徑（三個彎，僅必要時）
  - ✅ **線不會重疊**：智能追蹤+交替偏移機制
    - 路徑追蹤：記錄所有已繪路徑
    - 交替偏移：相似路徑上下交替
    - 最小間距：保持 12px 線條間距
  
- **佈局優化**
  - **橫向佈局**：從左到右按時間順序排列
  - 基於最早開始時間（ES）的分層佈局
  - **增大間距**：減少線條交叉（橫向300px，縱向160px）
  - 自動計算節點位置，預留繞行空間

### 📚 文檔更新

- 更新 `README.md`，添加 PDM 網圖功能說明
- 更新 `USER_GUIDE.md`，新增詳細的 PDM 網圖使用指南
- 添加依賴類型說明（FS/SS/FF/SF）
- 添加互動功能和使用建議

### 🔄 版本號更新

- 應用程式版本從 v1.1 更新至 v1.2

---

## [v1.1.0] - 2025-01-XX

### ✨ 初始功能

- 完整的 CPM 計算引擎
  - Forward Pass（前向計算）
  - Backward Pass（後向計算）
  - 浮時計算（TF/FF）
  - 要徑識別
  
- 互動式Bar Chart視覺化
  - 時間軸顯示
  - 任務條顯示
  - 依賴關係箭頭
  - 要徑高亮
  
- CSV 匯入/匯出功能
  - 作業匯入/匯出
  - 結果匯出
  - 報告生成
  
- 錯誤偵測
  - 循環依賴檢測
  - 資料驗證
  
- 響應式設計
  - 桌面/平板/手機適配

### 🛠️ 技術架構

- Vue 3 + TypeScript
- D3.js 視覺化
- Vite 建構工具
- 標準 CPM 演算法實現

---

## 圖例

- ✨ 新功能
- 🐛 錯誤修復
- 📚 文檔更新
- 🔄 版本更新
- 🛠️ 技術改進
- ⚡ 效能優化
- 🎨 介面優化

